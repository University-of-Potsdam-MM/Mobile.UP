<ion-header mode="ios">
  <ion-toolbar>
    <ion-button
      mode="md"
      slot="start"
      (click)="closeModal()"
      fill="clear"
      class="modalBackButton"
    >
      <ion-icon name="chevron-back"></ion-icon>
    </ion-button>
    <ion-title *ngIf="header">{{ header }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form [formGroup]="changeForm" (ngSubmit)="changePassword()">
    <ion-item mode="md">
      <ion-label position="floating"
        >{{ 'page.library-account.oldPassword' | translate }}</ion-label
      >
      <ion-input
        autocomplete="current-password"
        formControlName="oldPassword"
        [type]="pwVisibility"
        placeholder="{{ 'page.library-account.oldPassword' | translate }}"
      ></ion-input>
    </ion-item>
    <br />

    <ion-item mode="md">
      <ion-label position="floating"
        >{{ 'page.library-account.newPassword' | translate }}</ion-label
      >
      <ion-input
        autocomplete="new-password"
        formControlName="newPassword"
        [type]="pwVisibility"
        placeholder="{{ 'page.library-account.newPassword' | translate }}"
      ></ion-input>
    </ion-item>
    <br />

    <ion-item mode="md">
      <ion-label position="floating"
        >{{ 'page.library-account.newPasswordAgain' | translate }}</ion-label
      >
      <ion-input
        autocomplete="new-password"
        formControlName="newPasswordVerify"
        [type]="pwVisibility"
        placeholder="{{ 'page.library-account.newPassword' | translate }}"
      ></ion-input>
    </ion-item>
    <br />

    <div align="right" class="ion-padding-end">
      <ion-icon
        [name]="pwVisibility == 'password' ? 'eye' : 'eye-off'"
        class="linkItem"
        (click)="togglePwVisibility()"
        style="font-size: x-large"
      ></ion-icon>
    </div>

    <app-hint-box
      hintTypeI18nKey="hints.type.hint"
      hintTextI18nKey="hints.text.password-change-hint-bib"
      disableTextCentering="true"
    ></app-hint-box>

    <div align="right" class="ion-padding-end">
      <ion-button
        mode="md"
        [disabled]="!changeForm.valid"
        type="submit"
        class="ion-no-margin"
        >{{ "page.library-account.changePassword" | translate }}</ion-button
      >
    </div>
  </form>
</ion-content>
